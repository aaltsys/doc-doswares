<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Moving WARES Data &mdash; DOS WARES Error Recovery 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/aaltsys.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="DOS WARES Error Recovery 1.0 documentation" href="index.html" />
    <link rel="prev" title="DOS WARES Support Documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="index.html" title="DOS WARES Support Documentation"
             accesskey="P">previous</a></li>
        <li><a href="index.html">DOS WARES Error Recovery 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Moving WARES Data</a><ul>
<li><a class="reference internal" href="#special-considerations">Special considerations</a></li>
<li><a class="reference internal" href="#prepare-wares-volumes">Prepare WARES volumes</a></li>
<li><a class="reference internal" href="#copy-data-onto-server">Copy data onto server</a></li>
<li><a class="reference internal" href="#move-data-by-volume">Move data by volume</a></li>
<li><a class="reference internal" href="#move-data-by-account">Move data by account</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">DOS WARES Support Documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/04_move-data.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="moving-wares-data">
<span id="move-data"></span><h1>Moving WARES Data<a class="headerlink" href="#moving-wares-data" title="Permalink to this headline">¶</a></h1>
<p>A feature of WARES is the ability to maintain separate datasets in attachable
volumes. When WARES is used on stand-alone systems in separate buildings, each
building will have its own dataset (or maybe, multiple sets).</p>
<p>The difficulty with having multiple WARES installations is a lack of central
control for management and for billing. The problem of decentralized software
is addressed by installing WARES on a central server and using remote access to
distribute the software to individual offices, as is described in article
<a class="reference external" href="http://servers.aaltsys.info/install/aadserver">AAD Server</a>. This article
addresses the remaining problem of consolidating multiple WARES program datasets
on one central server.</p>
<div class="section" id="special-considerations">
<h2>Special considerations<a class="headerlink" href="#special-considerations" title="Permalink to this headline">¶</a></h2>
<p>When each WARES database at stand-alone WARES copies has a unique identifier
for its dataset, the separate datasets can be copied directly to separate
directories on the central WARES server. However, WARES will not work with
separate volumes which all use volume name <tt class="file docutils literal"><span class="pre">WARES.DATA</span></tt>, and which contain
identical underlying file names.</p>
<p>Therefore moving WARES data from separate systems to a consolidated server
always requires copying whole directories of data files, and may require
creating new data directories (volumes) and moving individual account data into
the new volumes.</p>
</div>
<div class="section" id="prepare-wares-volumes">
<h2>Prepare WARES volumes<a class="headerlink" href="#prepare-wares-volumes" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Start the WARES program from a workstation attached to the server, and login
using the supervisor access password.</p>
</li>
<li><p class="first">At <em class="menuselection">Tools ‣ General ‣ Volume Create</em>, create a new volume
for each data set which will be moved to the server. The following table
shows example selections for creating these volumes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="22%" />
<col width="25%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Source Volume</th>
<th class="head">System Path</th>
<th class="head">Volume to create</th>
<th class="head">Discard/Keep</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>.\UPDATE\WARES\DEMO</td>
<td>WARES\BLDG_1</td>
<td>WARES.BLDG_1</td>
<td>Discard</td>
</tr>
<tr class="row-odd"><td>.\UPDATE\WARES\DEMO</td>
<td>WARES\BLDG_2</td>
<td>WARES.BLDG_2</td>
<td>Discard</td>
</tr>
<tr class="row-even"><td>.\UPDATE\WARES\DEMO</td>
<td>WARES\BLDG_11</td>
<td>WARES.BLDG_11</td>
<td>Discard</td>
</tr>
<tr class="row-odd"><td>.\UPDATE\WARES\DEMO</td>
<td>WARES\DEAD_1</td>
<td>WARES.DEAD_1</td>
<td>Discard</td>
</tr>
<tr class="row-even"><td>.\UPDATE\WARES\DEMO</td>
<td>WARES\DEAD_2</td>
<td>WARES.DEAD_2</td>
<td>Discard</td>
</tr>
</tbody>
</table>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <em class="guilabel">Source Volume</em> default value should start with just one
period. If it starts with two, then fix the default as follows:</p>
<ul class="last simple">
<li>Go to <em class="menuselection">Tools ‣ Define ‣ Controls</em>.</li>
<li>Press <tt class="kbd docutils literal"><span class="pre">[F10],</span> <span class="pre">F,</span> <span class="pre">N</span></tt> and choose to open file <tt class="file docutils literal"><span class="pre">APP_CONTROLS</span></tt>.</li>
<li>Press <tt class="kbd docutils literal"><span class="pre">[Shift-F10]</span></tt>, then select <tt class="file docutils literal"><span class="pre">CREATE*DEFAULT</span></tt>.</li>
<li>Edit the <em class="guilabel">Source Volume</em> and other entries as required.</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If desired, the DISPLAY list of WARES volumes may be edited at
<em class="menuselection">Tools ‣ Define ‣ Popups</em>. Enter <em class="guilabel">Filename</em>
<tt class="file docutils literal"><span class="pre">APP_POPUPS</span></tt> and <em class="guilabel">Popup Name</em> <tt class="file docutils literal"><span class="pre">ACCESS</span></tt>.</p>
</div>
</div>
<div class="section" id="copy-data-onto-server">
<span id="copy-data"></span><h2>Copy data onto server<a class="headerlink" href="#copy-data-onto-server" title="Permalink to this headline">¶</a></h2>
<p>Where multiple data sets will be combined on one system, initially copy data to
<strong>SHARED</strong> drive <tt class="file docutils literal"><span class="pre">S:</span></tt> as described following.</p>
<ol class="arabic simple">
<li>At a stand-alone WARES station, copy the ATLAS directory to a USB drive.</li>
<li>Insert the USB drive into a workstation attached to the server.</li>
<li>Open the USB drive in a file Explorer window.</li>
<li>Locate the <tt class="file docutils literal"><span class="pre">WARES</span></tt> folder within the ATLAS (or ATLAS/AREV) directory.</li>
<li>Click the <tt class="file docutils literal"><span class="pre">WARES</span></tt> folder, and press <tt class="kbd docutils literal"><span class="pre">&lt;Ctrl-C&gt;</span></tt> to copy.</li>
<li>At <em class="menuselection">Start ‣ Computer ‣ Network Drives</em>, Double-Click the
<tt class="file docutils literal"><span class="pre">S:</span></tt> drive to open it.</li>
<li>Click in the blank area of the <tt class="file docutils literal"><span class="pre">S:</span></tt> window, and press <tt class="kbd docutils literal"><span class="pre">&lt;Ctrl-V&gt;</span></tt>
to paste.</li>
<li>Click on the pasted <tt class="file docutils literal"><span class="pre">WARES</span></tt> folder, and press <tt class="kbd docutils literal"><span class="pre">F2</span></tt> to rename it to
reflect its source. That is, rename <tt class="file docutils literal"><span class="pre">WARES</span></tt> to <tt class="file docutils literal"><span class="pre">BLDG_2</span></tt> if it
represents Building 2, and so forth.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A note on names: Volume names may be longer, but the WARES program
requires that filesystem directory or folder names representing volumes be
no more than 8 characters and include only letters, digits, and underscore or
hyphen characters. This is why the instructions show name <tt class="kbd docutils literal"><span class="pre">BLDG_2</span></tt>
instead of the (invalid) directory name <tt class="kbd docutils literal"><span class="pre">Building</span> <span class="pre">2</span></tt>.</p>
</div>
<p>Repeat these steps for each data volume to be added to the server.</p>
</div>
<div class="section" id="move-data-by-volume">
<h2>Move data by volume<a class="headerlink" href="#move-data-by-volume" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not use these instructions unless the source filenames to be
copied into a volume are distinct from names in all other wares volumes.
Generally this would be true either zero or one times per system.</p>
</div>
<ol class="arabic simple">
<li>At a workstation attached to the server, open a file Explorer widow.</li>
<li>Open drive <tt class="file docutils literal"><span class="pre">W:</span></tt>, then open the <tt class="file docutils literal"><span class="pre">WARES</span></tt> folder on drive
<tt class="file docutils literal"><span class="pre">W:</span></tt>.</li>
<li>Locate the data folder to be replaced, right-click the data folder, and
choose <em class="menuselection">Rename</em>.</li>
<li>Change the folder name to indicate that the folder should be deleted later
(much later).</li>
<li>Open drive <tt class="file docutils literal"><span class="pre">S:</span></tt>, then open the source folder on drive <tt class="file docutils literal"><span class="pre">S:</span></tt>.</li>
<li>Locate the data folder to be copied, right-click the folder, and choose
<em class="menuselection">Rename</em>.</li>
<li>Rename the folder to match the old folder name from drive <tt class="file docutils literal"><span class="pre">W:</span></tt>.</li>
<li>Right-click the folder and choose copy.</li>
<li>Again, open drive <tt class="file docutils literal"><span class="pre">W:</span></tt>, then open the <tt class="file docutils literal"><span class="pre">WARES</span></tt> folder on drive
<tt class="file docutils literal"><span class="pre">W:</span></tt>.</li>
<li>Click in a blank space within drive <tt class="file docutils literal"><span class="pre">W:</span></tt>, and press <tt class="kbd docutils literal"><span class="pre">&lt;Ctrl-V&gt;</span></tt> to
paste the folder from drive <tt class="file docutils literal"><span class="pre">S:</span></tt>.</li>
<li>Close the file Explorer windows, and start WARES.</li>
<li>Inside WARES, press <tt class="kbd docutils literal"><span class="pre">[F5]</span></tt> to display a command window. Type commands
<strong class="command">REBUILD.IMAGE ALL</strong> and then <strong class="command">OFF</strong>. Then restart WARES.</li>
</ol>
</div>
<div class="section" id="move-data-by-account">
<h2>Move data by account<a class="headerlink" href="#move-data-by-account" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before using this procedure, copy one or more data sets onto drive
<tt class="file docutils literal"><span class="pre">S:</span></tt> as <a class="reference internal" href="#copy-data"><em>described previously</em></a>.</p>
</div>
<div class="sidebar">
<p class="first sidebar-title">Adding a volume to the ACCESS popup.</p>
<img alt="_images/transfer1.png" class="last" src="_images/transfer1.png" />
</div>
<p>There are two parts to moving data between volumes by account. In this first
section, a temporary volume on drive <tt class="file docutils literal"><span class="pre">S:</span></tt> is set as the source of the
transfer.</p>
<ol class="arabic">
<li><p class="first">Open WARES at the supervisor level on a workstation attached to the server.</p>
</li>
<li><p class="first">Go to <em class="menuselection">Tools ‣ Define ‣ Popups</em>. Enter
<em class="guilabel">Filename</em> <tt class="file docutils literal"><span class="pre">APP_POPUPS</span></tt> and <em class="guilabel">Popup Name</em>
<tt class="file docutils literal"><span class="pre">ACCESS</span></tt>.</p>
</li>
<li><p class="first">Add <em class="guilabel">Code</em> <tt class="kbd docutils literal"><span class="pre">WARES.TRANSFER</span></tt> and <em class="guilabel">Description</em>
<tt class="kbd docutils literal"><span class="pre">Drive</span> <span class="pre">S:</span> <span class="pre">data</span></tt> at the bottom of the WARES data volumes list, then press
<tt class="kbd docutils literal"><span class="pre">&lt;F9&gt;</span></tt> to save the change.</p>
</li>
<li><p class="first">Go to <em class="menuselection">Tools ‣ Utilities ‣ Bundle</em>.</p>
</li>
<li><p class="first">Press <tt class="kbd docutils literal"><span class="pre">&lt;Shift-F1&gt;</span></tt> to display the <em class="guilabel">SetVolume</em> window.</p>
</li>
<li><p class="first">Enter <em class="guilabel">Volume Name</em> <tt class="kbd docutils literal"><span class="pre">WARES.TRANSFER</span></tt>.</p>
</li>
<li><p class="first">At <em class="guilabel">Data Type</em>, Press <tt class="kbd docutils literal"><span class="pre">&lt;F2&gt;</span></tt> and select
<em class="guilabel">Advanced Revelation (Linear Hash)</em>.</p>
</li>
<li><p class="first">Enter a <em class="guilabel">Data Location</em> path, comprised of drive, source directory,
and data folder in the form <tt class="kbd docutils literal"><span class="pre">S:\{source}\{folder}</span></tt>. See illustration
below.</p>
</li>
<li><p class="first">Press <tt class="kbd docutils literal"><span class="pre">&lt;F9&gt;</span></tt> to save.</p>
<img alt="_images/setvolume1.png" src="_images/setvolume1.png" />
</li>
</ol>
<p>Once a source data volume has been named, the Move Data utility will transfer
accounts between volumes.</p>
<ol class="arabic simple">
<li>Go to <em class="menuselection">Tools ‣ General ‣ Move data</em>, and enter <tt class="kbd docutils literal"><span class="pre">Y</span></tt>
to start the process.</li>
<li>At <em class="guilabel">Table Name</em>, press <tt class="kbd docutils literal"><span class="pre">&lt;F2&gt;</span></tt> and choose <tt class="kbd docutils literal"><span class="pre">ACCOUNTS</span></tt>.</li>
<li>Under <em class="guilabel">From: Source</em>, press <tt class="kbd docutils literal"><span class="pre">&lt;F2&gt;</span></tt> at <em class="guilabel">Volume</em> and
select <tt class="kbd docutils literal"><span class="pre">WARES.TRANSFER</span></tt>, as setup in the first part of this section.</li>
<li>Press <tt class="kbd docutils literal"><span class="pre">&lt;F2&gt;</span></tt> at <em class="guilabel">Identifier</em> to select an account to move.</li>
<li>Under <em class="guilabel">To: Destination</em>, press <tt class="kbd docutils literal"><span class="pre">&lt;F2&gt;</span></tt> at <em class="guilabel">Volume</em>
and select the destination data volume.</li>
<li>At <em class="guilabel">Identifier</em>, press <tt class="kbd docutils literal"><span class="pre">&lt;Enter&gt;</span></tt> to use the old identifer, or
enter a new account code.</li>
<li>Press <tt class="kbd docutils literal"><span class="pre">&lt;F9&gt;</span></tt> to start the data transfer. Expect an account transfer to
take at least several minutes.</li>
</ol>
<p>Repeat the set of steps immediately above for each account to be transferred. If
accounts are being transferred from multiple databases, repeat the entirety of
this section for each database.</p>
<p>Once all accounts are transferred from all databases, the WARES.TRANSFER volume
should be deleted from the WARES volume list.</p>
<ol class="arabic simple">
<li>Go to <em class="menuselection">Tools ‣ Define ‣ Popups</em>.
Enter <em class="guilabel">Filename</em> <tt class="file docutils literal"><span class="pre">APP_POPUPS</span></tt> and <em class="guilabel">Popup Name</em>
<tt class="file docutils literal"><span class="pre">ACCESS</span></tt>.</li>
<li>Press the <tt class="kbd docutils literal"><span class="pre">&lt;Down-cursor&gt;</span></tt> to go to the <em class="guilabel">Code</em> entry line
<tt class="kbd docutils literal"><span class="pre">WARES.TRANSFER</span></tt>.</li>
<li>Press <tt class="kbd docutils literal"><span class="pre">&lt;Ctrl-D&gt;</span></tt> to delete the line, and then <tt class="kbd docutils literal"><span class="pre">&lt;F9&gt;</span></tt> to save the
ACCESS popup record.</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="index.html" title="DOS WARES Support Documentation"
             >previous</a></li>
        <li><a href="index.html">DOS WARES Error Recovery 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Gerald Lovel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>